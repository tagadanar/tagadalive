/*
 * Action réalisable d'une entité vers une autre
 */
class Action {
	public Cell from
	public Cell to
	public Item item
	public Consequences consequences
	public real? score

	constructor(Item item, Cell from, Cell to){
		this.item = item
		this.from = from
		this.to = to
		this.consequences = Consequences(this)
		this.score = this.consequences.getScore()
	}
	
	constructor(Action action, Consequences consequences){
		this.item = action.item
		this.from = action.from
		this.to = action.to
		this.consequences = Consequences(this, consequences)
		this.score = this.consequences.getScore()
	}
	
	/*
	 * Format chaîne de caractères utilisée pour des tests / debugs.
	 */
	string string(){
		integer|string rounded = this.score != null ? round(this.score!) : "None"
		return "<Action score: "+rounded+" "+this.item.name+"|from:"+this.from.id+"|to:"+this.to.id+">"
	}
}