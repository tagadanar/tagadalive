/**
 * DamageEffects - Thin wrappers for Consequences that delegate to EffectHandlers.
 *
 * These wrappers fetch simulated stats and pass them to the shared handlers.
 * The actual logic lives in EffectHandlers (single source of truth).
 *
 * Handles: EFFECT_DAMAGE, EFFECT_POISON, EFFECT_LIFE_DAMAGE,
 *          EFFECT_NOVA_DAMAGE, EFFECT_AFTEREFFECT
 */

// Register all damage effect handlers
Consequences.registerHandlers([
	EFFECT_DAMAGE: (ItemEffect effect, Entity entitySource, Entity entityTarget, real ratioDmg, Consequences conseq) => void {
		EffectHandlers.damage(effect, entitySource, entityTarget, ratioDmg, entitySource.getCurrentStr(conseq), entitySource.getCurrentPwr(conseq), entitySource.getCurrentWsd(conseq), entityTarget.getCurrentRel(conseq), entityTarget.getCurrentAbs(conseq), entityTarget.getCurrentDmgReturn(conseq), conseq)
	},

	EFFECT_POISON: (ItemEffect effect, Entity entitySource, Entity entityTarget, real ratioDmg, Consequences conseq) => void {
		EffectHandlers.poison(effect, entitySource, entityTarget, ratioDmg, entitySource.getCurrentMgc(conseq), entitySource.getCurrentPwr(conseq), entityTarget.getCurrentItemEffect(effect.item, conseq) != null, conseq)
	},

	EFFECT_LIFE_DAMAGE: (ItemEffect effect, Entity entitySource, Entity entityTarget, real ratioDmg, Consequences conseq) => void {
		EffectHandlers.lifeDamage(effect, entitySource, entityTarget, ratioDmg, entitySource.life, entitySource.getCurrentPwr(conseq), entityTarget.getCurrentRel(conseq), entityTarget.getCurrentAbs(conseq), entityTarget.getCurrentDmgReturn(conseq), conseq)
	},

	EFFECT_NOVA_DAMAGE: (ItemEffect effect, Entity entitySource, Entity entityTarget, real ratioDmg, Consequences conseq) => void {
		EffectHandlers.novaDamage(effect, entitySource, entityTarget, ratioDmg, entitySource.getCurrentSnc(conseq), entitySource.getCurrentPwr(conseq), entityTarget.getCurrentHPMissing(conseq), conseq)
	},

	EFFECT_AFTEREFFECT: (ItemEffect effect, Entity entitySource, Entity entityTarget, real ratioDmg, Consequences conseq) => void {
		EffectHandlers.aftereffect(effect, entitySource, entityTarget, ratioDmg, entitySource.getCurrentMgc(conseq), conseq)
	}
])
