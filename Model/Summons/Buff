/*
 * Buff - A buff action to cast on the summoned bulb (unified offensive + defensive)
 */
class Buff {
	Item chip           // The buff chip
	Cell fromCell       // Where leek stands to cast it
	integer cost        // TP cost
	// Offensive stats
	integer strBoost    // STR increase
	integer agiBoost    // AGI increase
	integer tpBoost     // TP increase
	integer mpBoost     // MP increase
	integer mgcBoost    // MAGIC increase
	// Defensive stats
	integer absShield   // Absolute shield value
	integer relShield   // Relative shield % value
	integer resistance  // Resistance boost
	integer lifeBoost   // Max life boost

	constructor(Item chip, Cell fromCell, integer cost,
	            integer strBoost, integer agiBoost, integer tpBoost, integer mpBoost, integer mgcBoost,
	            integer absShield, integer relShield, integer resistance, integer lifeBoost) {
		this.chip = chip
		this.fromCell = fromCell
		this.cost = cost
		this.strBoost = strBoost
		this.agiBoost = agiBoost
		this.tpBoost = tpBoost
		this.mpBoost = mpBoost
		this.mgcBoost = mgcBoost
		this.absShield = absShield
		this.relShield = relShield
		this.resistance = resistance
		this.lifeBoost = lifeBoost
	}

	boolean isOffensive() {
		return this.strBoost > 0 || this.agiBoost > 0 || this.tpBoost > 0 || this.mpBoost > 0 || this.mgcBoost > 0
	}

	boolean isDefensive() {
		return this.absShield > 0 || this.relShield > 0 || this.resistance > 0 || this.lifeBoost > 0 || this.tpBoost > 0
	}

	string string() {
		string s = "<Buff " + this.chip.name
		if (this.strBoost > 0) s += " STR+" + this.strBoost
		if (this.agiBoost > 0) s += " AGI+" + this.agiBoost
		if (this.tpBoost > 0) s += " TP+" + this.tpBoost
		if (this.mpBoost > 0) s += " MP+" + this.mpBoost
		if (this.mgcBoost > 0) s += " MGC+" + this.mgcBoost
		if (this.absShield > 0) s += " abs=" + this.absShield
		if (this.relShield > 0) s += " rel=" + this.relShield + "%"
		if (this.resistance > 0) s += " rst=" + this.resistance
		if (this.lifeBoost > 0) s += " life=" + this.lifeBoost
		return s + ">"
	}
}
